<div class="main-content mt-5">
  <div class="container-fluid">
      <div class="row">
          <div class="col-md-12">
      <div class="card">
                  <div class="card-header card-header-danger">
                      <h4 class="card-title">Edit About-us Section</h4>
                  </div>
                  <div class="logo-img-box">
                  <form   [formGroup]="aboutsectionForm" (ngSubmit)="addaboutsection()"> 
                      <div class="form-group">
                          <label for="exampleInputEmail1">Tittle</label>
                          <input formControlName="aboutTitle"   type="email"  class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
                          <span  class="text-center text-danger" *ngIf="!aboutsectionForm.get('file')?.valid && aboutsectionForm.get('file')?.touched 
                          && aboutsectionForm.get('file')?.dirty && f['file'].errors">aboutsectionForm
                          <p class="err" *ngIf="f['file'].errors?.['required']">This fileld is required</p>
                          </span>
                        </div>
                        <div class="form-group">
                          <label for="exampleInputEmail1">Summary-Paragraph</label>
                          <input type="aboutSummary" formControlName="aboutSummary"    class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
                          <span  class="text-center text-danger" *ngIf="!aboutsectionForm.get('file')?.valid && aboutsectionForm.get('file')?.touched
                         && aboutsectionForm.get('file')?.dirty && f['file'].errors">
                         <p class="err" *ngIf="f['file'].errors?.['required']">This fileld is required</p>
                        </span>
                        </div>
                        <div class="form-group">
                          <label for="exampleInputEmail1">Phone Number</label>
                          <input type="number"  formControlName="aboutPhone"  class="form-control" id="exampleInputEmail1"  aria-describedby="emailHelp">
                          <!-- <div *ngIf="f.aboutPhone.touched && f.aboutPhone.invalid" style="color: red;">  
                            <div *ngIf="f.aboutPhone.errors.required">Mobile Number is required.</div>  
                            <div *ngIf="f.aboutPhone.errors.pattern">Please, Enter 10 digit Mobile Number.</div>  
                        </div>   -->
                        </div> 
                        <div class="form-group">
                          <div class="custom-file form-group">
                            <input type="file"   formControlName="file"   (change)="saveImage($event)"  class="custom-file-input" id="validatedCustomFile" required>
                            <label class="custom-file-label" for="validatedCustomFile">Choose file...</label>
                        </div>
                        </div>                                                     
                         <div><img style="width: 100px;height: 100px;"  [src]="env.apiBaseUrl +'/about-us/'+ env.restaurantId +'?file=' + url"
                          alt=""></div>
                        <div class="d-flex">
                          <button type="submit"   style="background-color: green;"  class="btn mt-5"  [disabled]='showspinner' mat-raised-button>
                            <mat-progress-spinner  [diameter]="40"  style="color: white;" mode="indeterminate" *ngIf="showspinner">
                            </mat-progress-spinner>
                            <span *ngIf="!showspinner">update</span>
                          </button> 
                        </div>          
                  </form>
              </div>
      </div>
  </div>
</div>
      </div>
      </div>

<ng-template #callAPIDialog>

  <form   [formGroup]="editaboutSectionForm" (ngSubmit)="updateaboutsection()"> 
    <div class="form-group">
        <label for="exampleInputEmail1">Tittle</label>
        <input formControlName="aboutTitle"   type="email"  class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
        <span  class="text-center text-danger" *ngIf="!aboutsectionForm.get('file')?.valid && aboutsectionForm.get('file')?.touched 
&& aboutsectionForm.get('file')?.dirty && f['file'].errors">aboutsectionForm
<p class="err" *ngIf="f['file'].errors?.['required']">This fileld is required</p>
</span>
      </div>
      <div class="form-group">
        <label for="exampleInputEmail1">Summary-Paragraph</label>
        <input type="aboutSummary" formControlName="aboutSummary"    class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
        <span  class="text-center text-danger" *ngIf="!aboutsectionForm.get('file')?.valid && aboutsectionForm.get('file')?.touched
       && aboutsectionForm.get('file')?.dirty && f['file'].errors">
       <p class="err" *ngIf="f['file'].errors?.['required']">This fileld is required</p>
      </span>
      </div>
      <div class="form-group">
        <label for="exampleInputEmail1">Phone Number</label>
        <input type="number"  formControlName="aboutPhone"  class="form-control" id="exampleInputEmail1"  maxlength="10" aria-describedby="emailHelp">
        <div *ngIf="f.aboutPhone.touched && f.aboutPhone.invalid" style="color: red;">  
          <div *ngIf="f.aboutPhone.errors.required">Mobile Number is required.</div>  
          <div *ngIf="f.aboutPhone.errors.pattern">Please, Enter 10 digit Mobile Number.</div>  
      </div>  
      </div> 
      <div class="form-group">
        <div class="custom-file form-group">
          <input type="file"   formControlName="file"   (change)="saveImage($event)"  class="custom-file-input" id="validatedCustomFile" required>
          <label class="custom-file-label" for="validatedCustomFile">Choose file...</label>
      </div>
      </div>
      <div>
         <img style="width:2rem;height: 2rem;"    [src]="env.apiBaseUrl +'/about-us/' + env.restaurantId +'?file=' + url" alt="">
      </div>
      <div class="d-flex">
      <button type="submit"   style="background-color: green;" class="btn">update</button>
      </div>          
</form>
</ng-template>




